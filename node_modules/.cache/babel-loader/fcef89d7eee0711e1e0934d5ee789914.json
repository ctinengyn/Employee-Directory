{"ast":null,"code":"import _classCallCheck from\"/Users/christinenguyen/Desktop/Homework/Employee-Directory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/christinenguyen/Desktop/Homework/Employee-Directory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/christinenguyen/Desktop/Homework/Employee-Directory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/christinenguyen/Desktop/Homework/Employee-Directory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import api from\"../utils/api\";import React,{Component}from\"react\";import EmployeeTable from\"./EmployeeTable\";import SearchBox from\"./SearchBox\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Directory=/*#__PURE__*/function(_Component){_inherits(Directory,_Component);var _super=_createSuper(Directory);function Directory(){var _this;_classCallCheck(this,Directory);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={users:[],filterUsers:[],search:\"\",order:\"\"};_this.sortEmployee=function(){var filter=_this.state.filterUsers;if(_this.state.order===\"asc\"){var sorts=filter.sort(function(a,b){return a.name.first>b.name.first?1:-1;});console.log(sorts);_this.setState({filterUsers:sorts,order:\"desc\"});}else{var _sorts=filter.sort(function(a,b){return a.name.first>b.name.first?-1:1;});console.log(_sorts);_this.setState({filterUsers:_sorts,order:\"asc\"});};};_this.inputChange=function(event){var users=_this.state.users;var UserInput=event.target.value;var filterUsers=users.filter(function(users){return users.name.first.toLowerCase().indexOf(UserInput.toLowerCase())>-1;});_this.setState({filterUsers:filterUsers});};_this.searchEmployee=function(){api.getUsers().then(function(res){return _this.setState({filterUsers:res.data.results,users:res.data.results});}).catch(function(err){return console.log(err);});};_this.searchBtn=function(event){event.preventDefault();if(!_this.state.search){alert(\"Please enter a name\");}var _this$state=_this.state,search=_this$state.search,users=_this$state.users;var filterUsers=users.filter(function(employee){return employee.name.first.toLowerCase().includes(search.toLocaleLowerCase());});_this.setState({filterUsers:filterUsers});};return _this;}_createClass(Directory,[{key:\"componentDidMount\",value:// Loads all the data\nfunction componentDidMount(){var _this2=this;api.getUser().then(function(res){console.log(res);_this2.setState({users:res.data.results,filterUsers:res.data.results});});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(SearchBox,{employee:this.state.users,searchBtn:this.searchBtn,inputChange:this.inputChange}),/*#__PURE__*/_jsx(EmployeeTable,{results:this.state.filterUsers,sortEmployee:this.sortEmployee})]});}}]);return Directory;}(Component);export default Directory;","map":{"version":3,"sources":["/Users/christinenguyen/Desktop/Homework/Employee-Directory/src/components/Directory.js"],"names":["api","React","Component","EmployeeTable","SearchBox","Directory","state","users","filterUsers","search","order","sortEmployee","filter","sorts","sort","a","b","name","first","console","log","setState","inputChange","event","UserInput","target","value","toLowerCase","indexOf","searchEmployee","getUsers","then","res","data","results","catch","err","searchBtn","preventDefault","alert","employee","includes","toLocaleLowerCase","getUser"],"mappings":"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","sourcesContent":["import api from \"../utils/api\";\nimport React, { Component } from \"react\";\nimport EmployeeTable from \"./EmployeeTable\";\nimport SearchBox from \"./SearchBox\"\n\nclass Directory extends Component {\n  state = {\n    users: [],\n    filterUsers: [],\n    search: \"\",\n    order: \"\",\n  };\n\n  // Loads all the data\n  componentDidMount() {\n    api.getUser().then((res) => {\n      console.log(res);\n      this.setState({\n        users: res.data.results,\n        filterUsers: res.data.results,\n      });\n    });\n  };\n\n  // componentDidMount() {\n  //   api.getUser().then(res => this.setState({\n  //     users: res.data.results,\n  //     filterUsers: res.data.results\n\n  //   })).catch(err => console.log(err))\n  // }\n\n\n\n  // ASC stands for ascending and the DESC stands for descending\n  sortEmployee = () => {\n      const filter = this.state.filterUsers;\n      if (this.state.order === \"asc\") {\n          const sorts = filter.sort((a, b) => (a.name.first > b.name.first) ? 1 : -1)\n\n          console.log(sorts)\n\n          this.setState({\n              filterUsers: sorts,\n              order: \"desc\"\n          })\n      } else {\n\n        const sorts = filter.sort((a, b) => (a.name.first > b.name.first) ? -1 : 1) \n        \n        console.log(sorts)\n\n        this.setState({\n          filterUsers: sorts,\n          order: \"asc\"\n        })\n\n      };\n  };\n\n\n  // Shows on screen when the names match\n\n  inputChange = event => {\n\n    const users = this.state.users;\n    const UserInput = event.target.value;\n    const filterUsers = users.filter(users => users.name.first.toLowerCase().indexOf(UserInput.toLowerCase()) > -1)\n\n    this.setState ({\n      filterUsers,\n    });\n  };\n\n  searchEmployee = () => {\n    api.getUsers().then(res => this.setState({\n\n      filterUsers:res.data.results,\n      users: res.data.results\n    }))\n\n    .catch(err => console.log(err))\n  }\n\n  searchBtn = event => {\n    event.preventDefault();\n    if (!this.state.search) {\n      alert(\"Please enter a name\")\n    }\n\n    const { search, users} = this.state;\n    const filterUsers = users.filter(employee => employee.name.first.toLowerCase().includes(search.toLocaleLowerCase()));\n\n    this.setState({\n      filterUsers\n    });\n  };\n\n\n  render() {\n    return (\n      <div>\n\n        {/* Search box input */}\n        <SearchBox \n\n        employee = {this.state.users}\n        searchBtn = {this.searchBtn}\n        inputChange = {this.inputChange} />\n\n        {/* Employee Table info */}\n        <EmployeeTable\n\n        results = {this.state.filterUsers}\n        sortEmployee = {this.sortEmployee} />\n\n      </div>\n    )\n  }\n}\n\nexport default Directory;\n"]},"metadata":{},"sourceType":"module"}